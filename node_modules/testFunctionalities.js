/**
 * Created by XiTU on 1/29/14.
 */

var queryDB = require('./queryDB');

var userInfo={};
userInfo.email="test@example.com";
userInfo.phone="2063102826"
userInfo.last_name="Tu";
userInfo.first_name="Xi";

var date=new Date();
var dateString = "2014-02-01";// date.getFullYear()+"-"+(date.getMonth()+1)+"-"+date.getDate();

var orderInfoArray=[];
var orderInfo1={};
orderInfo1.spot_id=Number(1);
orderInfo1.valid_date=dateString;
orderInfo1.quantity=Number(2);
orderInfo1.price=Number(60);

var orderInfo2={};
orderInfo2.spot_id=Number(3);
orderInfo2.valid_date=dateString;
orderInfo2.quantity=Number(1);
orderInfo2.price=Number(90);

orderInfoArray[0]=orderInfo1;
orderInfoArray[1]=orderInfo2;

var isSuccess=true;
var handleOrder=function(number) {
    if(number==0) {
        isSuccess=false;
        console.log("handle order failed");
    }
}


queryDB.getAllScenerySpots(function(results){
    console.log(results);
} )
//queryDB.placeOrder(userInfo,orderInfoArray,handleOrder);
/*
var inventory;
queryDB.checkInventory(1,dateString,function(results){
    inventory=results;
    console.log(inventory);
})

queryDB.placeOrder(userInfo,orderInfoArray,handleOrder);



var confirmCode="P40DR0QC0TBMY9V";

var order;
queryDB.checkOrder(confirmCode,function(results){
    order=results;
    console.log(order);
})
queryDB.validateTicket(confirmCode,3,dateString,function(num) {
    //num>0, the ticket is valid;
    //otherwise, the ticket is invalid;
    console.log(num.affectedRows+" tickets got validated");
})
//console.log("code reaches its end");
*/
//return;